<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NaughtsAndCrosses Example</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<table border="0" width="100%" height="8" bgcolor="#eeeeee">
<tr> <td width="100%" height="1"><b><font size="2" color="#000000" face="Arial, Helvetica, sans-serif"><strong><a name=Top></a>
S60 5th Edition SDK v0.9</strong></font></b><br><i>Example Applications Guide</i></td></tr> </table>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
  <h1>Naughts and Crosses Example</h1>
  <p>
<a class="el" href="index.html#intro_sec">1. About this Example</a> <br>
<a class="el" href="index.html#arc_sec">2. Architecture<br>
<a class="el" href="index.html#Pre_sec">3. Prerequisites</a> <br>
<a class="el" href="index.html#Design_sec">4. Design and Implementation</a> <br>
<a class="el" href="index.html#Build_sec">5. Running the Example</a><p>
<hr>
<h2><a class="anchor" name="intro_sec">
1. About this Example</a></h2>
	Noughts and Crosses is one of the C++ example applications which support the scalable UI using either bitmaps or SVG-T icons. 
	The original purpose of this example is to demonstrate scalability and the usage of bitmaps and svg-t graphics in differet versions. This version supports svg-t.
	<h2><a class="anchor" name="arc_sec">

2. Architecture</a></h2>
	NoughtsAndCrosses follows traditional MVC architecture. 
<h2><a class="anchor" name="Pre_sec">

3. Prerequisites</a></h2>
	This example exists as a complete application, and has the standard Symbian OS application architecture employing the Application, Document, UI, and View classes. The example makes use of several other Symbian OS concepts which the reader should be aware of before attempting to understand this example.
<h2><a class="anchor" name="Design_sec">  
4. Design and Implementation</a></h2>
The application was designed with three main components:
<ul>
<li>Application framework
<li>Model (games engine)
<li>Configuration/Statistical data
</ul>
This design ensures that the UI and Engine are kept separate.
<h3> <a class="anchor" name="Sub31">
4.1 Application framework </a> </h3>

The following framework classes produce the skeleton application: 
<ul>
<li><b>CNoughtsAndCrossesApp </b>— Operates as a startup object for the S60 application framework. 
<li><b>CNoughtsAndCrossesDocument</b> — Stores the application’s persistent state. Launches the AppUi and owns and constructs the Engine. It provides a thin-layered interface so the UI does not need to interact with the engine explicitly. 
<li><b>CNoughtsAndCrossesAppUi </b>— creates the views and handles application exit. 
<li><b>CNoughtsAndCrossesView </b>— Main application views. Handles menu commands and owns CNoughtsAndCrossesContainer. 
<li><b>CNoughtsAndCrossesContainer</b> — The board control, responsible for drawing of the game. This class is derived from CNoughtsAndCrossesEngine::Observer and registered with the model, so the model can notify the view if there are any changes. 
<li><b>CNoughtsAndCrossesSettingsView </b>— View for the user settings. Owns CNoughtsAndCrossesSettingListbox. 
</ul>
<h3><a class="anchor" name="Sub32">
4.2 The model </a></h3>
The model provides the functionality to play a game of Noughts and Crosses. It provides for the following: 
<ul>
<li>	Allows the user to create a new game. 
<li>Allows moves to be performed (human player and CPU player). 
<li>	Notifies the observer of any changes. 
<li>	Provides access to the board. 
<li>	Provides information on how the game is progressing. 
</ul>
<h3><a class="anchor" name="Sub33">
4.3 Configuration and statistical data</a></h3>

This component of the application is responsible for accessing and updating the configuration and statistical data. The configuration information stored is used to determine which player starts the game (human or CPU), what symbol the human player will use (O or X), and the player’s name. The statistical information contains the number of times the human player wins and loses.
<h3><a class="anchor" name="Sub34">
4.4	 MMP files</a></h3>
The MMP file for S60 5.0 is: nac_S60_5th_ed.mmp
<h3><a class="anchor" name="Sub34">
4.5	Touch UI Support</a></h3>

To implement HandlePointerEvent function in the container (to provide Touch UI support for the CCoeControl derived control).
<hr>
 <div class="fragment"><pre class="fragment">
 void CNoughtsAndCrossesContainer::HandlePointerEventL (const TPointerEvent& aPointerEvent)
    {
    // Check if touch is enabled or not
    if ( !AknLayoutUtils::PenEnabled() )
        {
        return;
        }
    
    if (aPointerEvent.iType == TPointerEvent::EButton1Up)
        {
        CNoughtsAndCrossesDocument* document = static_cast<
        CNoughtsAndCrossesDocument*> (iView.AppUi () ->Document ());

        TRect boardRect = Rect ();
        TInt verticalTileSize = boardRect.Size ().iWidth / BOARD_SIZE;
        TInt horisontalTileSize = boardRect.Size ().iHeight / BOARD_SIZE;
        
        ICursorRow = aPointerEvent.iPosition.iY / horisontalTileSize;
        ICursorColumn = aPointerEvent.iPosition.iX / verticalTileSize;
        
        if (!document->CanMove())
            {
            return;
            }
        
        if (document->MakeHumanMoveL(iCursorRow, iCursorColumn))
            {
            if (document->CanMove())
                {
                document->MakeComputerMove();
                }
            }    
        }

    // Call base class HandlePointerEventL ()
    CCoeControl::HandlePointerEventL (aPointerEvent);
    }
</pre></div> <hr>
Otherwise it derives its views from CAknView and CCoeControl classes. Also AknLayoutUtils (UI Metrics API) is used for scalability. 
The original purpose of this example is to demonstrate scalability and the usage of bitmaps and svg-t graphics in different versions. This version supports svg-t.
<h2><a class="anchor" name="Build_sec">
5. Running the Example</a></h2>
When the application starts up and the user presses the Select softkey, the following screen appears:
<br>
<div align="center">
<br>
<img widht=300 height=200 src="Startupview.JPG" alt="Startupview.JPG">
</div>
 <b> <center> Figure1: Start up view </center></b><p>
  Pressing the option Settings the below screen appears. 
 <ol>
 <li>Player’s Name: In this we can give the name of the player who is going to play.
<li>Who plays first: The player should select it whether it can be Human or computer.
<li>Player type: The player can select the type whether it can be nought or cross.
</ol>
<div align="center">
<img widht=300 height=200 src="Settingsview.JPG" alt="Settingsview.JPG">
</div>
 <b> <center> Figure2:Settings view </center></b><p>
 When the player fails to finish the game in a row ar column ar diagonal the below screen appears and the game is said to be draw.
 <div align="center">
<img widht=300 height=200 src="Drawview.JPG" alt="Drawview.JPG">
</div>
 <b> <center> Figure3:Draw view</center></b><p>
 <br>
 When the player finishes the game with cross in a row the below screen appears and the player is won.
  <div align="center">
<img  widht=300 height=200 src="Winview1.JPG" alt="Winview1.JPG">
</div>
 <b> <center> Figure4:Win view1</center></b><p>
 <br>
 When the opposite player finishes the noughts in the diagonal view then that player is said to won the match and it is shown in the below screen:
   <div align="center">
<img  widht=300 height=200 src="Winview2.JPG" alt="Winview2.JPG">
</div>
 <b> <center> Figure5:Win view2</center></b><p>
 <br>
 For viewing the statics of the game played goto Options - > Stats, the below screen appears.
    <div align="center">
    <br>
<img widht=300 height=200 src="Statisticalinformation.JPG" alt="Statisticalinformation.JPG">
</div>
 <b> <center> Figure5:Statistical Information</center></b><p>
 <br>
<hr>

<table x-use-null-cells
		style="x-cell-content-align: top;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=100%>
  <col style="width: 50%;">
  <col style="width: 50%;">

  <tr style="x-cell-content-align: top;"
	valign=top>
  <td style="width: 50%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-style: None;
			border-left-style: None;
			border-top-style: None;
			border-bottom-style: None;"
	width=50%>
  <p style="font-family: Arial;"><small style="font-size: smaller;">© Nokia 2008</small></td>
  <td style="width: 50%;
			padding-right: 10px;
			padding-left: 10px;
			border-top-style: None;
			border-bottom-style: None;
			border-right-style: None;"
	width=50%>
  <p style="text-align: right; margin-right: -4px;"
	align=right><span style="font-weight: bold;"><a href="#Top"
													title="Back to top"><img
 src="top.gif"
	x-maintain-ratio=TRUE
	alt="Back to top"
	style="border: none;
			width: 18px;
			height: 15px;
			float: none;
			border-style: none;
			border-style: none;"
	width=18
	height=15
	border=0></a></span></td></tr>
 </table>
</body>
</html>


 </body>
</html>