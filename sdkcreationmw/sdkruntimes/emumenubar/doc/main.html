<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Microsoft FrontPage 4.0">
   <title>Ecmt Framework Server: Main Page</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
&nbsp;
<table BORDER=0 WIDTH="100%" HEIGHT="8" BGCOLOR="#EEEEEE" >
<tr>
<td WIDTH="100%" HEIGHT="1"><b><font face="Arial, Helvetica, sans-serif"><font color="#000000"><font size=-1>Ecmt
Framework Server Documentation</font></font></font></b></td>
</tr>
</table>
<!-- Generated by Doxygen 1.3.9.1 -->
<h1>
Ecmt Framework Server Documentation</h1>

<h2>
Introduction
</h2>

<p>
The configuration and monitoring framework (Ecmt) is
the architectural framework for developing tool plugins to Series 60 platform.
It is composed of a standalone Java manager application running on the PC and a
Symbian OS server running in the emulator or terminal. Both components manage
the lifecycle of plugins and offer messaging services to plugins. In Symbian OS
the plugins are ECom plugins while in the Java component the plugins are
separate .jar files. The configuration and monitoring framework is used to
implement the diagnostics, preferences and utilities functions of the SDK.
</p>

<p>
The picture below shows the general architecture of the framework.
</p>

<p>
<img border="0" src="EcmtFrameworkArch.gif" width="699" height="289">
</p>

<p>
This is the documentation for the Configuration and Monitoring Framework (Ecmt) Symbian
OS server running in the emulator or Series 60 devices. It offers a C++ plugin
interface with which it is possible to integrate new manageable objects to the
platform. The plugins are Symbian OS ECom plugins that are loaded to the Ecmt
server process, and, therefore, cannot have a UI . The plugins can exploit the
messaging capabilities of the framework to send and receive messages from/to the
Java plugins of the Ecmt Manager running on the PC.
</p>

<p>
&nbsp;
</p>

<h2>
Components
</h2>

<p>The Ecmt framework works with both the emulator and a Series 60 device. The
Symbian toolchain (with suitable flag definitions in code and project definition
files) takes care of all the differences between these two scenarios. The
following sections explain the general architecture of the components of the
Ecmt server The details are found in the Modules section of the documentation.
</p>

<h3>Components in the Context of the Emulator
</h3>

<p>The following diagram depicts the components and their dependencies in the
context of the emulator:
</p>

<p><img border="0" src="ComponentsInEmulator.gif" width="825" height="259">
</p>

<p>The components are:
</p>

<ul>
  <li>Core: system core and main controller</li>
  <li>Plugins: the core loads the plugins using Symbian's ECom subsystem
    services</li>
  <li>Menubar: the menubar implements the emulator's Windows GUI logic</li>
  <li>W32Bearer: the core uses Symbian's ECom subsystem to load the network
    bearer. In the emulator context this means the W32Bearer module that uses
    native Windows sockets.</li>
  <li>Client: offers the API defined by the REcmt class to any Symbian
    application/server.</li>
  <li>The Java manager application connects to the Ecmt server using native
    Windows sockets. Typically, the Java manager application is launched by the
    menubar component as a response to the Tools-&gt;Preferences or
    Tools-&gt;Diagnostic menu command.</li>
</ul>
<p>Two components of the Series 60 platform need to be changed:</p>
<ul>
  <li>EKERN.DLL, source file from \src\beech\generic\base\e32\ekern\emul\win32\kp_gui.cpp</li>
  <li>STARTER.RSC, source file \s60\starter\group\starter_shell.rss</li>
</ul>
<p>The EKERN.DLL modification is required to be able to load the menubar
component at emulator startup. The STARTER.RSC is modified to add the Ecmt core
to the emulator startup list. Both modifications are implemented in the scripts
found in the Ecmt\platform_mod directory of the codebase.</p>
<h3>Components in the Context of the Series 60 Device
</h3>

<p>In the context of the Series 60 device the component view is as follows:
</p>

<p><img border="0" src="ComponentsInDevice.gif" width="949" height="287">
</p>

<p>The components are:
</p>

<ul>
  <li>Core, plugins, and client are the same as in the emulator context (although
    the source code of the Core component includes some conditional compilation
    flags to disable the link to the menubar component)</li>
  <li>Gui: a Gui application that allows the user to start and stop the
    framework and to see the status of the connection to the PC</li>
  <li>BTBearer: the core uses Symbian's ECom subsystem to load the network
    bearer. In the emulator context this means the BTBearer module that uses the
    Bluetooth RFCOMM protocol to communicate with the PC</li>
  <li>Gateway: a standalone Windows executable process that accepts TCP
    connections on a socket then routes the TCP stream over a supported bearer
    to a connected terminal. The bearer to be used is given as command line
    parameter to EcmtGateway.exe. Currently, the only supported bearer is the
    COM port, which must be mapped to the Bluetooth RFCOMM service in the PC.</li>
  <li>GatewayProxy: The Gateway Proxy component provides a java interface for
    interacting with the Ecmt Gateway process. It allows a java application to
    query the bearers that the gateway supports, to launch and stop the gateway,
    to obtain the port number on which the gateway is listening and to query for
    an error message in case of connection failures.</li>
</ul>
<p>Symbian package files (.pkg) exist for creating the .sis files needed to
instal the core, client, gui, BTBearer and all plugins to the device.
</p>

<h2>
Contents
</h2>

<ul>
<li>
<a href="main.html" class="qindex">Main Page</a></li>

<li>
<a href="modules.html" class="qindex">Modules</a></li>

<li>
<a href="namespaces.html" class="qindex">Namespace List</a></li>

<li>
<a href="hierarchy.html" class="qindex">Class Hierarchy</a></li>

<li>
<a href="classes.html" class="qindex">Alphabetical List</a></li>

<li>
<a href="annotated.html" class="qindex">Data Structures</a></li>

<li>
<a href="dirs.html" class="qindex">Directories</a></li>

<li>
<a href="files.html" class="qindex">File List</a></li>

<li>
<a href="functions.html" class="qindex">Data Fields</a></li>

<li>
<a href="globals.html" class="qindex">Globals</a></li>
</ul>

<hr>
<center>
<p><font face="Arial"><font size=-1>&copy; Nokia 2004</font></font></center>

</body>
</html>
